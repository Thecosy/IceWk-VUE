(window.webpackJsonp = window.webpackJsonp || []).push([[20], { 660: function(t, e, o) {}, 661: function(t, e, o) { 'use strict'; o(660) }, 662: function(t, e, o) { 'use strict'; o(19), o(12), o(13), o(26), o(27); var n = o(3); var r = (o(11), { name: 'BackTop', props: ['right', 'bottom', 'duration'], data: function() { return { showIcon: !1, scrollTop: 0, defaultType: 0, defaultTop: 400, defaultRight: 30, defaultBottom: 95, defaultDuration: 300 } }, beforeDestroy: function() { window.removeEventListener('scroll', this.handelScroll, !1) }, mounted: function() { this.top && (this.defaultTop = this.top), this.right && (this.defaultRight = this.right), this.bottom && (this.defaultBottom = this.bottom), this.duration && (this.defaultDuration = this.duration), window.addEventListener('scroll', this.handelScroll, !1) }, methods: { handelScroll: function() { this.scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop, this.scrollTop > this.defaultTop ? this.showIcon = !0 : this.showIcon = !1 }, goTop: function() { window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(t) { window.setTimeout(t, 1e3 / 60) }; var t = this.scrollTop / (this.defaultDuration / (1e3 / 60)) >> 0; var e = this; function o() { e.scrollTop >= 0 ? (e.scrollTop -= t, document.documentElement.scrollTop = document.body.scrollTop = e.scrollTop, o.rafTimer = requestAnimationFrame(o)) : (document.body.scrollTop = 0, cancelAnimationFrame(o.rafTimer)) }o.rafTimer = requestAnimationFrame(o) } }}); var l = (o(661), o(6)); var c = Object(l.a)(r, function() { var t = this; var e = t.$createElement; var o = t._self._c || e; return o('div', { directives: [{ name: 'show', rawName: 'v-show', value: t.showIcon, expression: 'showIcon' }], staticClass: 'macwk-animation tinUpIn', attrs: { id: 'sidetools' }}, [o('div', { staticClass: 'sidetools-item' }, [o('div', { staticClass: 'sidetools-wrapper' }, [o('a', { directives: [{ name: 'popover', rawName: 'v-popover:weixinqrcode', arg: 'weixinqrcode' }], staticClass: 'cursor' }, [o('span', { staticClass: 'sidetools-icon kfwx' })])])]), t._v(' '), o('div', { staticClass: 'sidetools-item' }, [o('div', { staticClass: 'sidetools-wrapper' }, [o('a', { directives: [{ name: 'popover', rawName: 'v-popover:qqqrcode', arg: 'qqqrcode' }], staticClass: 'cursor' }, [o('span', { staticClass: 'sidetools-icon kfqq' })])])]), t._v(' '), o('div', { staticClass: 'sidetools-item' }, [o('div', { staticClass: 'sidetools-wrapper' }, [o('el-tooltip', { attrs: { content: '回到顶部', placement: 'left' }}, [o('a', { staticClass: 'cursor', on: { click: function(e) { return t.goTop() } }}, [o('span', { staticClass: 'sidetools-icon back-top' })])])], 1)]), t._v(' '), o('el-popover', { ref: 'weixinqrcode', attrs: { placement: 'left', width: '200', trigger: 'hover' }}, [o('div', { staticClass: 'text-center' }, [o('nuxt-link', { staticClass: 'mt-15 mb-0', attrs: { to: '/feedback' }}, [t._v('在线留言')])], 1)]), t._v(' '), o('el-popover', { ref: 'qqqrcode', attrs: { placement: 'left', width: '200', trigger: 'hover' }}, [o('div', { staticClass: 'text-center' }, [o('nuxt-link', { staticClass: 'mt-15 mb-0', attrs: { to: '/feedback' }}, [t._v('在线留言')])], 1)])], 1) }, [], !1, null, null, null).exports; function d(object, t) { var e = Object.keys(object); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(object); t && (o = o.filter(function(t) { return Object.getOwnPropertyDescriptor(object, t).enumerable })), e.push.apply(e, o) } return e } function m(t) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; i % 2 ? d(Object(source), !0).forEach(function(e) { Object(n.a)(t, e, source[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(source)) : d(Object(source)).forEach(function(e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(source, e)) }) } return t }e.a = m(m({}, c), {}, { install: function(t) { return t.component(c.name, c) } }) }, 702: function(t, e, o) {}, 715: function(t, e, o) { 'use strict'; o(702) }, 739: function(t, e, o) { 'use strict'; o.r(e); var n; var r = o(157); var l = o(3); var dialog = (o(364), o(156)); var c = o.n(dialog); var d = (o(11), o(13), o(662)); var m = o(664); var f = (o(366).Base64, { scrollToTop: !0, head: function() { return { title: 'macOS 12 monterey 应用兼容性', meta: [{ hid: 'description', name: 'description', content: 'macOS 12 monterey 可以安装使用的应用软件' }], link: this.getLinkRel() } }, name: 'lizhi', data: function() { return { searchKey: '', query: '', compatibility: 'all', searchItemsSource: null, currentPage: 1, filter_count: 0, pagesize: 20, page: 2, isSearch: !1, loading: !0, skuDialog: !1, softList: [], isNewDate: +new Date() } }, components: (n = { BackTop: d.a }, Object(l.a)(n, c.a.Component.name, c.a.Component), Object(l.a)(n, 'InfiniteLoading', m.a), n), computed: {}, watch: { $route: function() { this.query = '' }, compatibility: function(t) { var e = this; e.getList(e.currentPage, e.query, e.compatibility) }, query: function(t) { var e = this; var o = document.querySelector('.version-search-input'); o.addEventListener('compositionstart', function(t) { e.judgeComposing = !0 }), o.addEventListener('compositionend', function(t) { e.judgeComposing = !1 }), setTimeout(function() { e.judgeComposing || e.getList(e.currentPage, t, e.compatibility) }, 10) } }, methods: { backtop: function() { var t = setInterval(function() { var e = document.documentElement.scrollTop || document.body.scrollTop; var o = Math.floor(-e / 5); document.documentElement.scrollTop = document.body.scrollTop = e + o, e === 0 && clearInterval(t) }, 10) }, getUpClass: function(t) { var e = 'btn-outline-success'; return t > 0 && (e = 'btn-success'), e }, getDownClass: function(t) { var e = 'btn-outline-danger'; return t < 0 && (e = 'btn-danger'), e }, getVoteStatus: function(t, e) { var o = this.getNowUnix(e); return (this.$storage.syncUniversal('hasVote') || []).filter(function(element) { return element.soft === t && element.time === o }).length > 0 }, addVote: function(t, e, o, n) { var r = this; var l = this.clone(this.$storage.syncUniversal('hasVote')) || []; if (t && e) { var c = { softid: t, type: e }; this.$client.createItem('monterey_vote', c).then(function(e) { var c = { fields: 'monterey_vote_total', status: 'published', filter: { id: { eq: t }}}; r.$client.getItems('soft', c).then(function(e) { e.data.length && (l.push({ soft: t, time: r.getNowUnix(n) }), r.$storage.setUniversal('hasVote', l), r.softList[o].monterey_vote_total = e.data[0].monterey_vote_total) }) }).catch(function(t) { r.$toasted.show(''.concat(t.message, '，请联系管理员'), { themes: 'bubble', position: 'top-center', duration: 1500 }) }) } }, getList: function(t, text, e) { var o = this; this.loading = !0, this.searchItemsSource && this.searchItemsSource.cancel('Cancel previous request'); var n = this.$axios.CancelToken; this.searchItemsSource = n.source(), this.softList = []; var r = { meta: 'total_count,filter_count', sort: '-modified_on', limit: this.pagesize, offset: 0, fields: 'id,soft_status,icon.filename_disk,modified_on,slug,monterey_vote_total,os_version,version,title,title_short,title_des,size,isflag,compatibility', status: 'published', 'filter[title][contains]': this.query }; this.compatibility === 'yes' && (r['filter[monterey_vote_total][gt]'] = 0), this.compatibility === 'no' && (r['filter[monterey_vote_total][lt]'] = 0), this.$axios.get('https://api.macwk.com/api/items/soft', { params: r, cancelToken: this.searchItemsSource.token }).then(function(e) { (e = e.data).data.length && (o.page = 3, o.softList = e.data, o.currentPage = t, o.filter_count = e.meta.filter_count, o.loading = !1, o.backtop()) }) }, infiniteHandler: function(t) { var e = this; this.loading = !0; var o = { meta: 'total_count,filter_count', sort: '-modified_on', limit: this.pagesize, filter: { title: { contains: this.query }}, offset: (this.page - 1) * this.pagesize - this.pagesize, fields: 'id,soft_status,icon.filename_disk,modified_on,slug,monterey_vote_total,os_version,version,title,title_short,title_des,size,isflag,compatibility', status: 'published' }; this.compatibility === 'yes' && (o['filter[monterey_vote_total][gt]'] = 0), this.compatibility === 'no' && (o['filter[monterey_vote_total][lt]'] = 0), this.$client.getItems('soft', o).then(function(o) { var n; o.data.length ? (e.page += 1, (n = e.softList).push.apply(n, Object(r.a)(o.data)), e.filter_count = o.meta.filter_count, e.loading = !1, t.loaded()) : (t.complete(), e.loading = !1) }) } }, mounted: function() {} }); var v = (o(715), o(6)); var component = Object(v.a)(f, function() { var t = this; var e = t.$createElement; var o = t._self._c || e; return o('div', { class: t.$device.isDesktop ? 'lizhi-container layout-min-full-height' : 'mobile-monterey px-5 overflow-hidden' }, [o('div', { ref: 'container', staticClass: 'text-center', class: t.$device.isDesktop ? 'pt-7 pb-6' : 'pt-5 pb-5' }, [o('h1', [t._v('macos 12 '), t.$device.isDesktop ? o('span', [t._v('Monterey 应用')]) : t._e(), t._v('兼容性')]), t._v(' '), t.$device.isDesktop ? o('p', { staticClass: 'fs-18 text-muted mb-6' }, [o('span', { staticClass: 'text-danger' }, [t._v('非12系统请不要参与，谢谢配合。')]), t._v('此页面为 macos 12 应用兼容性调查页面，您可以进行投票。最终结果我将会在 macos 12 Monterey 正式版发布前同步至应用下载页及列表筛选中。')]) : o('p', { staticClass: 'fs-18 text-muted mb-4' }, [t._v('macos 12 应用兼容性投票页面')]), t._v(' '), o('div', { staticClass: 'row' }, [o('div', { staticClass: 'col-xl-6 offset-xl-3' }, [o('div', { staticClass: 'form-group input-group lizhi-input-group radius-top-left-5x radius-bottom-left-5x' }, [o('input', { directives: [{ name: 'model', rawName: 'v-model', value: t.query, expression: 'query' }], ref: 'searchInput', staticClass: 'version-search-input form-control radius-top-left-5x radius-bottom-left-5x', attrs: { 'aria-autocomplete': 'both', autocomplete: 'off', autocorrect: 'off', autocapitalize: 'off', placeholder: '搜索应用...', maxlength: '64', type: 'search' }, domProps: { value: t.query }, on: { input: function(e) { e.target.composing || (t.query = e.target.value) } }}), t._v(' '), t._m(0)])])])]), t._v(' '), o('div', { staticClass: 'clearfix' }, [o('div', { staticClass: 'w-full' }, [o('el-radio-group', { staticClass: 'mb-4', attrs: { size: 'small' }, model: { value: t.compatibility, callback: function(e) { t.compatibility = e }, expression: 'compatibility' }}, [o('el-radio', { staticClass: 'mr-2', attrs: { label: 'all', border: '' }}, [t._v('全部')]), t._v(' '), o('el-radio', { staticClass: 'mr-2', attrs: { label: 'yes', border: '' }}, [t._v('仅看兼容')]), t._v(' '), o('el-radio', { attrs: { label: 'no', border: '' }}, [t._v('仅看不兼容')])], 1), t._v(' '), t._l(t.softList, function(e, n) { return o('div', { key: n, staticClass: 'post-item no-cursor white py-4' }, [o('div', { staticClass: 'w-80 h-80', style: 'background-image: url(' + t.imgUrl(e.icon.filename_disk) + '); background-size: cover' }), t._v(' '), o('div', { staticClass: 'post-item__content pr-2' }, [o('div', { staticClass: 'd-flex align-items-center mobile-monterey-item' }, [o('div', { staticClass: 'flex-grow-1 mobile-monterey-item-info' }, [o('a', { directives: [{ name: 'line-clamp', rawName: 'v-line-clamp:20', value: 1, expression: '1', arg: '20' }], staticClass: 'flex-grow', attrs: { href: '/soft/' + e.slug, target: '_blank' }}, [o('h5', { staticClass: 'fw-600 mb-0' }, [t._v('\n                  ' + t._s(e.title) + '\n                ')])]), t._v(' '), o('p', { staticClass: 'fs-16 text-muted mb-0' }, [t._v('\n                ' + t._s(e.title_des) + '\n              ')]), t._v(' '), t.$device.isDesktop ? o('p', { staticClass: 'fs-14 text-muted mb-0' }, [t._v('\n                当前版本：' + t._s(e.version) + '\n              ')]) : t._e()]), t._v(' '), o('div', { staticClass: 'd-flex align-items-center justify-content-end w-300 pt-1 mobile-monterey-item-vote' }, [o('button', { staticClass: 'btn btn-round btn-xs w-120 mr-4', class: t.getUpClass(e.monterey_vote_total), attrs: { disabled: t.getVoteStatus(e.id, e.modified_on) }, on: { click: function(o) { return t.addVote(e.id, 'up', n, e.modified_on) } }}, [t._v('\n                兼容\n                '), e.monterey_vote_total > 0 ? [t._v('\n                  (' + t._s(e.monterey_vote_total) + ')\n                ')] : t._e()], 2), t._v(' '), o('button', { staticClass: 'btn btn-round btn-xs w-100', class: t.getDownClass(e.monterey_vote_total), attrs: { disabled: t.getVoteStatus(e.id, e.modified_on) }, on: { click: function(o) { return t.addVote(e.id, 'down', n, e.modified_on) } }}, [t._v('\n                不兼容\n                '), e.monterey_vote_total < 0 ? [t._v('\n                  (' + t._s(Math.abs(e.monterey_vote_total)) + ')\n                ')] : t._e()], 2)])])])]) }), t._v(' '), o('infinite-loading', { attrs: { identifier: t.isNewDate }, on: { infinite: t.infiniteHandler }, scopedSlots: t._u([{ key: 'error', fn: function(e) { var n = e.trigger; return o('div', {}, [t._v('\n          数据加载失败， '), o('button', { staticClass: 'btn btn-outline-theme btn-sm', on: { click: n }}, [t._v('重试')])]) } }]) }, [o('div', { staticClass: 'mb-3 fs-12 text-muted', attrs: { slot: 'no-more' }, slot: 'no-more' }, [t._v('全部数据已加载完毕……')])])], 2)]), t._v(' '), o('BackTop', { staticStyle: { right: 'calc((100% - 800px)/2 - 100px)', 'margin-right': '0' }})], 1) }, [function() { var t = this; var e = t.$createElement; var o = t._self._c || e; return o('div', { staticClass: 'input-group-append' }, [o('button', { staticClass: 'btn btn-theme px-5 radius-top-right-5x radius-bottom-right-5x', attrs: { type: 'button' }}, [t._v('搜索')])]) }], !1, null, null, null); e.default = component.exports } }])
