(window.webpackJsonp = window.webpackJsonp || []).push([[10], { 660: function(t, e, n) {}, 661: function(t, e, n) { 'use strict'; n(660) }, 662: function(t, e, n) { 'use strict'; n(19), n(12), n(13), n(26), n(27); var o = n(3); var r = (n(11), { name: 'BackTop', props: ['right', 'bottom', 'duration'], data: function() { return { showIcon: !1, scrollTop: 0, defaultType: 0, defaultTop: 400, defaultRight: 30, defaultBottom: 95, defaultDuration: 300 } }, beforeDestroy: function() { window.removeEventListener('scroll', this.handelScroll, !1) }, mounted: function() { this.top && (this.defaultTop = this.top), this.right && (this.defaultRight = this.right), this.bottom && (this.defaultBottom = this.bottom), this.duration && (this.defaultDuration = this.duration), window.addEventListener('scroll', this.handelScroll, !1) }, methods: { handelScroll: function() { this.scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop, this.scrollTop > this.defaultTop ? this.showIcon = !0 : this.showIcon = !1 }, goTop: function() { window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(t) { window.setTimeout(t, 1e3 / 60) }; var t = this.scrollTop / (this.defaultDuration / (1e3 / 60)) >> 0; var e = this; function n() { e.scrollTop >= 0 ? (e.scrollTop -= t, document.documentElement.scrollTop = document.body.scrollTop = e.scrollTop, n.rafTimer = requestAnimationFrame(n)) : (document.body.scrollTop = 0, cancelAnimationFrame(n.rafTimer)) }n.rafTimer = requestAnimationFrame(n) } }}); var l = (n(661), n(6)); var c = Object(l.a)(r, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { directives: [{ name: 'show', rawName: 'v-show', value: t.showIcon, expression: 'showIcon' }], staticClass: 'macwk-animation tinUpIn', attrs: { id: 'sidetools' }}, [n('div', { staticClass: 'sidetools-item' }, [n('div', { staticClass: 'sidetools-wrapper' }, [n('a', { directives: [{ name: 'popover', rawName: 'v-popover:weixinqrcode', arg: 'weixinqrcode' }], staticClass: 'cursor' }, [n('span', { staticClass: 'sidetools-icon kfwx' })])])]), t._v(' '), n('div', { staticClass: 'sidetools-item' }, [n('div', { staticClass: 'sidetools-wrapper' }, [n('a', { directives: [{ name: 'popover', rawName: 'v-popover:qqqrcode', arg: 'qqqrcode' }], staticClass: 'cursor' }, [n('span', { staticClass: 'sidetools-icon kfqq' })])])]), t._v(' '), n('div', { staticClass: 'sidetools-item' }, [n('div', { staticClass: 'sidetools-wrapper' }, [n('el-tooltip', { attrs: { content: '回到顶部', placement: 'left' }}, [n('a', { staticClass: 'cursor', on: { click: function(e) { return t.goTop() } }}, [n('span', { staticClass: 'sidetools-icon back-top' })])])], 1)]), t._v(' '), n('el-popover', { ref: 'weixinqrcode', attrs: { placement: 'left', width: '200', trigger: 'hover' }}, [n('div', { staticClass: 'text-center' }, [n('nuxt-link', { staticClass: 'mt-15 mb-0', attrs: { to: '/feedback' }}, [t._v('在线留言')])], 1)]), t._v(' '), n('el-popover', { ref: 'qqqrcode', attrs: { placement: 'left', width: '200', trigger: 'hover' }}, [n('div', { staticClass: 'text-center' }, [n('nuxt-link', { staticClass: 'mt-15 mb-0', attrs: { to: '/feedback' }}, [t._v('在线留言')])], 1)])], 1) }, [], !1, null, null, null).exports; function m(object, t) { var e = Object.keys(object); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(object); t && (n = n.filter(function(t) { return Object.getOwnPropertyDescriptor(object, t).enumerable })), e.push.apply(e, n) } return e } function d(t) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; i % 2 ? m(Object(source), !0).forEach(function(e) { Object(o.a)(t, e, source[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(source)) : m(Object(source)).forEach(function(e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(source, e)) }) } return t }e.a = d(d({}, c), {}, { install: function(t) { return t.component(c.name, c) } }) }, 686: function(t, e, n) { 'use strict'; function o(t, e) { void 0 === e && (e = {}); for (var n = (function(t) { for (var e = [], i = 0; i < t.length;) { var n = t[i]; if (n !== '*' && n !== '+' && n !== '?') if (n !== '\\') if (n !== '{') if (n !== '}') if (n !== ':') if (n !== '(')e.push({ type: 'CHAR', index: i, value: t[i++] }); else { var o = 1; var pattern = ''; if (t[l = i + 1] === '?') throw new TypeError('Pattern cannot start with "?" at ' + l); for (;l < t.length;) if (t[l] !== '\\') { if (t[l] === ')') { if (--o == 0) { l++; break } } else if (t[l] === '(' && (o++, t[l + 1] !== '?')) throw new TypeError('Capturing groups are not allowed at ' + l); pattern += t[l++] } else pattern += t[l++] + t[l++]; if (o) throw new TypeError('Unbalanced pattern at ' + i); if (!pattern) throw new TypeError('Missing pattern at ' + i); e.push({ type: 'PATTERN', index: i, value: pattern }), i = l } else { for (var r = '', l = i + 1; l < t.length;) { var code = t.charCodeAt(l); if (!(code >= 48 && code <= 57 || code >= 65 && code <= 90 || code >= 97 && code <= 122 || code === 95)) break; r += t[l++] } if (!r) throw new TypeError('Missing parameter name at ' + i); e.push({ type: 'NAME', index: i, value: r }), i = l } else e.push({ type: 'CLOSE', index: i, value: t[i++] }); else e.push({ type: 'OPEN', index: i, value: t[i++] }); else e.push({ type: 'ESCAPED_CHAR', index: i++, value: t[i++] }); else e.push({ type: 'MODIFIER', index: i, value: t[i++] }) } return e.push({ type: 'END', index: i, value: '' }), e }(t)), o = e.prefixes, l = void 0 === o ? './' : o, c = '[^' + r(e.delimiter || '/#?') + ']+?', m = [], d = 0, i = 0, path = '', h = function(t) { if (i < n.length && n[i].type === t) return n[i++].value }, f = function(t) { var e = h(t); if (void 0 !== e) return e; var o = n[i]; var r = o.type; var l = o.index; throw new TypeError('Unexpected ' + r + ' at ' + l + ', expected ' + t) }, v = function() { for (var t, e = ''; t = h('CHAR') || h('ESCAPED_CHAR');)e += t; return e }; i < n.length;) { var _ = h('CHAR'); var C = h('NAME'); var pattern = h('PATTERN'); if (C || pattern) { var w = _ || ''; l.indexOf(w) === -1 && (path += w, w = ''), path && (m.push(path), path = ''), m.push({ name: C || d++, prefix: w, suffix: '', pattern: pattern || c, modifier: h('MODIFIER') || '' }) } else { var y = _ || h('ESCAPED_CHAR'); if (y)path += y; else if (path && (m.push(path), path = ''), h('OPEN')) { w = v(); var x = h('NAME') || ''; var k = h('PATTERN') || ''; var S = v(); f('CLOSE'), m.push({ name: x || (k ? d++ : ''), pattern: x && !k ? c : k, prefix: w, suffix: S, modifier: h('MODIFIER') || '' }) } else f('END') } } return m } function r(t) { return t.replace(/([.+*?=^!:${}()[\]|/\\])/g, '\\$1') } function l(t) { return t && t.sensitive ? '' : 'i' } function c(path, t, e) { return (function(t, e, n) { void 0 === n && (n = {}); for (var o = n.strict, c = void 0 !== o && o, m = n.start, d = void 0 === m || m, h = n.end, f = void 0 === h || h, v = n.encode, _ = void 0 === v ? function(t) { return t } : v, C = '[' + r(n.endsWith || '') + ']|$', w = '[' + r(n.delimiter || '/#?') + ']', y = d ? '^' : '', x = 0, k = t; x < k.length; x++) { var S = k[x]; if (typeof S === 'string')y += r(_(S)); else { var O = r(_(S.prefix)); var E = r(_(S.suffix)); if (S.pattern) if (e && e.push(S), O || E) if (S.modifier === '+' || S.modifier === '*') { var I = S.modifier === '*' ? '?' : ''; y += '(?:' + O + '((?:' + S.pattern + ')(?:' + E + O + '(?:' + S.pattern + '))*)' + E + ')' + I } else y += '(?:' + O + '(' + S.pattern + ')' + E + ')' + S.modifier; else y += '(' + S.pattern + ')' + S.modifier; else y += '(?:' + O + E + ')' + S.modifier } } if (f)c || (y += w + '?'), y += n.endsWith ? '(?=' + C + ')' : '$'; else { var $ = t[t.length - 1]; var P = typeof $ === 'string' ? w.indexOf($[$.length - 1]) > -1 : void 0 === $; c || (y += '(?:' + w + '(?=' + C + '))?'), P || (y += '(?=' + w + '|' + C + ')') } return new RegExp(y, l(n)) }(o(path, e), t, e)) } function m(path, t, e) { return path instanceof RegExp ? (function(path, t) { if (!t) return path; for (var e = /\((?:\?<(.*?)>)?(?!\?)/g, n = 0, o = e.exec(path.source); o;)t.push({ name: o[1] || n++, prefix: '', suffix: '', modifier: '', pattern: '' }), o = e.exec(path.source); return path }(path, t)) : Array.isArray(path) ? (function(t, e, n) { var o = t.map(function(path) { return m(path, e, n).source }); return new RegExp('(?:' + o.join('|') + ')', l(n)) }(path, t, e)) : c(path, t, e) }n.d(e, 'a', function() { return m }) }, 693: function(t, e, n) { 'use strict'; n.d(e, 'a', function() { return y }); n(47), n(121); var o = n(686); var r = { data: function() { return { active: !1, exactActive: !1, itemShow: !1, itemHover: !1 } }, created: function() { this.item.header || this.item.component || (this.initState(), this.$router || window.addEventListener('hashchange', this.initState)) }, destroyed: function() { this.$router || window.removeEventListener('hashchange', this.initState) }, methods: { isLinkActive: function(t) { return this.matchRoute(t) || this.isChildActive(t.child) || this.isAliasActive(t) }, isLinkExactActive: function(t) { return this.matchExactRoute(t.href) }, isChildActive: function(t) { var e = this; return !!t && t.some(function(t) { return e.isLinkActive(t) }) }, isAliasActive: function(t) { if (t.alias) { var e = this.$router ? this.$route.fullPath : window.location.pathname + window.location.search + window.location.hash; return Array.isArray(t.alias) ? t.alias.some(function(t) { return Object(o.a)(t).test(e) }) : Object(o.a)(t.alias).test(e) } return !1 }, matchRoute: function(t) { var e = t.href; var n = t.exactPath; return !!e && (this.$router ? this.$router.resolve(e).route.params.category === this.$route.params.category : n ? e === window.location.pathname : this.matchExactRoute(e)) }, matchExactRoute: function(t) { return !!t && (this.$router ? this.$router.resolve(t).route.fullPath === this.$route.fullPath : t === window.location.pathname + window.location.search + window.location.hash) }, clickEvent: function(t) { this.item.disabled || (this.emitItemClick(t, this.item), this.showChild || this.isMobileItem || !this.item.child || this.item.href && !this.exactActive || (this.showOneChild ? this.activeShow === this.item ? this.emitActiveShow(null) : this.emitActiveShow(this.item) : this.itemShow = !this.itemShow)) }, initState: function() { this.initActiveState(), this.initShowState() }, initActiveState: function() { this.active = this.isLinkActive(this.item), this.exactActive = this.isLinkExactActive(this.item) }, initShowState: function() { this.item.child && !this.showChild && (this.showOneChild ? this.active ? (this.emitActiveShow(this.item), this.itemShow = !0) : this.item === this.activeShow && (this.emitActiveShow(null), this.itemShow = !1) : this.active && (this.itemShow = !0)) }, mouseEnterEvent: function(t) { t.stopPropagation(), this.item.disabled || (this.itemHover = !0, this.hover) }, mouseLeaveEvent: function(t) { t.stopPropagation(), this.itemHover = !1 } }, computed: { isRouterLink: function() { return !0 === (this.$router && this.item && void 0 !== this.item.href && !this.item.external) }, isFirstLevel: function() { return this.level === 1 }, show: function() { return !!this.item.child && (!(!this.showChild && !this.isMobileItem) || this.itemShow) }, itemLinkClass: function() { return ['vsm--link', 'vsm--link_level-'.concat(this.level), { 'vsm--link_hover': this.hover }, { 'vsm--link_active': this.active }, { 'vsm--link_exact-active': this.exactActive }, { 'vsm--link_disabled': this.item.disabled }, this.item.class] }, itemLinkHref: function() { return (this.$router || this.item.href && typeof this.item.href === 'string') && this.item.href ? this.item.href : '' }, hover: function() { return this.itemHover } }, watch: { $route: function() { var t = this; setTimeout(function() { t.item.header || t.item.component || t.initState() }, 1) }, item: function(t, e) { this.emitItemUpdate(t, e) }, activeShow: function() { this.itemShow = this.item === this.activeShow } }, inject: ['emitActiveShow', 'emitItemClick', 'emitItemUpdate'] }; var l = { methods: { expandEnter: function(t) { t.style.height = t.scrollHeight + 'px' }, expandAfterEnter: function(t) { t.style.height = 'auto' }, expandBeforeLeave: function(t) { t.style.height = t.scrollHeight + 'px' } }}; var c = { name: 'SidebarMenuLink', props: { tag: { type: String, default: 'a' }, href: { type: [String, Object], default: '' }, disabled: { type: Boolean, default: !1 }}}; var m = n(6); var d = Object(m.a)(c, function() { var t = this; var e = t.$createElement; return (t._self._c || e)(t.tag, t._b({ tag: 'component', attrs: { to: t.tag === 'router-link' && t.href, role: 'link' }, on: { keydown: function(e) { return !e.type.indexOf('key') && t._k(e.keyCode, 'enter', 13, e.key, 'Enter') ? null : t.$parent.clickEvent(e) } }}, 'component', t.tag !== 'router-link' && { href: t.href && !t.disabled ? t.href : void 0 }, !1), [t._t('default')], 2) }, [], !1, null, null, null).exports; var h = { name: 'SidebarMenuIcon', props: { icon: { type: [String, Object], default: '' }}}; var f = Object(m.a)(h, function() { var t = this; var e = t.$createElement; return (t._self._c || e)(t.icon.element ? t.icon.element : 'i', t._b({ tag: 'component', staticClass: 'vsm--icon', class: typeof t.icon === 'string' || t.icon instanceof String ? t.icon : t.icon.class }, 'component', t.icon.attributes, !1), [t._v('\n  ' + t._s(t.icon.text) + '\n')]) }, [], !1, null, null, null).exports; var v = { name: 'SidebarMenuBadge', props: { badge: { type: Object, default: function() {} }}}; var _ = { name: 'SidebarMenuItem', components: { SidebarMenuLink: d, SidebarMenuIcon: f, SidebarMenuBadge: Object(m.a)(v, function() { var t = this; var e = t.$createElement; return (t._self._c || e)(t.badge.element ? t.badge.element : 'span', t._b({ tag: 'component', staticClass: 'vsm--badge', class: t.badge.class }, 'component', t.badge.attributes, !1), [t._v('\n  ' + t._s(t.badge.text) + '\n')]) }, [], !1, null, null, null).exports }, mixins: [r, l], props: { item: { type: Object, required: !0 }, level: { type: Number, default: 1 }, activeShow: { type: Object, default: null }, showChild: { type: Boolean, default: !1 }, showOneChild: { type: Boolean, default: !1 }, disableHover: { type: Boolean, default: !1 }}}; var C = Object(m.a)(_, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return t.item.component ? n(t.item.component, t._b({ tag: 'component' }, 'component', t.item.props, !1)) : t.item.header ? n('div', t._b({ staticClass: 'vsm--header', class: t.item.class }, 'div', t.item.attributes, !1), [t._v('\n  ' + t._s(t.item.title) + '\n')]) : n('div', t._g({ staticClass: 'vsm--item', class: [{ 'vsm--item_open': t.show }], on: { mouseout: t.mouseLeaveEvent }}, { mouseover: t.mouseEnterEvent }), [n('sidebar-menu-link', t._b({ class: t.itemLinkClass, attrs: { tag: 'span', href: t.itemLinkHref, disabled: t.item.disabled }, nativeOn: { click: function(e) { return t.clickEvent.apply(null, arguments) } }}, 'sidebar-menu-link', t.item.attributes, !1), [n('span', { staticClass: 'vsm--title' }, [t._v(t._s(t.item.title))]), t._v(' '), t.item.child ? n('div', { staticClass: 'vsm--arrow', class: [{ 'vsm--arrow_open': t.show }, { 'vsm--arrow_slot': t.$slots['dropdown-icon'] }] }, [t._t('dropdown-icon')], 2) : t._e()]), t._v(' '), t.item.child ? [n('transition', { attrs: { name: 'expand' }, on: { enter: t.expandEnter, afterEnter: t.expandAfterEnter, beforeLeave: t.expandBeforeLeave }}, [t.show ? n('div', { staticClass: 'vsm--dropdown' }, [n('div', { staticClass: 'vsm--list' }, t._l(t.item.child, function(e, o) { return n('sidebar-menu-item', { key: o, attrs: { item: e, level: t.level + 1, 'show-child': t.showChild }}, [t._t('dropdown-icon', null, { slot: 'dropdown-icon' })], 2) }), 1)]) : t._e()])] : t._e()], 2) }, [], !1, null, null, null); var w = { name: 'SidebarMenu', components: { SidebarMenuItem: C.exports }, mixins: [l], props: { menu: { type: Array, required: !0 }, width: { type: String, default: '260px' }, showChild: { type: Boolean, default: !1 }, showOneChild: { type: Boolean, default: !0 }, relative: { type: Boolean, default: !0 }, disableHover: { type: Boolean, default: !1 }}, data: function() { return { mobileItem: null, mobileItemPos: 0, mobileItemHeight: 0, mobileItemTimeout: null, activeShow: null, parentHeight: '100vh', parentWidth: '100vw', parentOffsetTop: '0px', parentOffsetLeft: '0px' } }, computed: {}, watch: {}, mounted: function() { this.initParentOffsets() }, methods: { onMouseLeave: function() { this.unsetMobileItem() }, onToggleClick: function() { this.unsetMobileItem() }, onActiveShow: function(t) { this.activeShow = t }, onItemClick: function(t, e) { this.$emit('item-click', t, e) }, setMobileItem: function(t) { var e = this; var n = t.item; var o = t.itemEl; if (this.mobileItem !== n) { var r = this.$el.getBoundingClientRect().top; var l = window.getComputedStyle(o); var c = parseFloat(l.paddingTop); var m = parseFloat(l.paddingBottom); var d = o.offsetHeight - (c + m); var h = o.getBoundingClientRect().top - r + c; this.unsetMobileItem(), this.$nextTick(function() { e.mobileItem = n, e.mobileItemPos = h, e.mobileItemHeight = d }) } }, unsetMobileItem: function(t, e) { var n = this; t ? (this.mobileItemTimeout && clearTimeout(this.mobileItemTimeout), e || (this.mobileItemTimeout = setTimeout(function() { n.mobileItem = null }, 600))) : this.mobileItem = null }, initParentOffsets: function() { var t = this.$el.getBoundingClientRect().top; var e = this.$el.getBoundingClientRect().left; this.$el.getBoundingClientRect().right; if (this.relative) { var n = this.$el.parentElement; var o = n.getBoundingClientRect().top; var r = n.getBoundingClientRect().left; this.parentHeight = ''.concat(n.offsetHeight, 'px'), this.parentWidth = ''.concat(n.offsetWidth, 'px'), this.parentOffsetTop = ''.concat(t - o, 'px'), this.parentOffsetLeft = ''.concat(e - r, 'px') } else this.parentOffsetTop = ''.concat(t, 'px'), this.parentOffsetLeft = ''.concat(e, 'px') }, onItemUpdate: function(t, e) { e === this.mobileItem && (this.mobileItem = t), e === this.activeShow && (this.activeShow = t) } }, provide: function() { return { emitActiveShow: this.onActiveShow, emitItemClick: this.onItemClick, emitItemUpdate: this.onItemUpdate } } }; var y = Object(m.a)(w, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'macwk-sidebar', class: ['vsm_expanded'], on: { mouseleave: t.onMouseLeave }}, [t._t('header'), t._v(' '), n('div', { staticClass: 'vsm--scroll-wrapper' }, [n('div', { staticClass: 'vsm--list' }, t._l(t.menu, function(e, o) { return n('sidebar-menu-item', { key: o, attrs: { item: e, 'active-show': t.activeShow, 'show-one-child': t.showOneChild, 'show-child': t.showChild, 'mobile-item': t.mobileItem, 'disable-hover': t.disableHover }, on: { 'set-mobile-item': t.setMobileItem, 'unset-mobile-item': t.unsetMobileItem }}, [t._t('dropdown-icon', null, { slot: 'dropdown-icon' })], 2) }), 1)]), t._v(' '), t._t('footer')], 2) }, [], !1, null, null, null).exports }, 750: function(t, e, n) { 'use strict'; n.r(e); var o = n(25); var r = n(9); var l = (n(54), n(47), n(121), n(36), n(16), n(37), n(693)); var c = n(663); var m = n(662); var d = { scrollToTop: !0, name: 'ArticleChild', head: function() { return { title: 'MacWk - 精品mac软件下载', link: this.getLinkRel() } }, data: function() { return { DOM: {}, siderbarLoading: !1, commentList: [], categoryName: '全部文章', loading: !1, pagerslist: [10, 15, 20, 30], sortList: [{ value: '-modified_on', key: null, name: '最新', icon: 'icon-clock-ep' }, { value: '-comment_total', key: '-comment_total', name: '评论', icon: 'icon-comments' }, { value: '-isflag,-modified_on', key: '-isflag,-modified_on', name: '推荐', icon: 'icon-thumb-up' }] } }, computed: { currentPage: { get: function() { return this.$storage.getState('article').currentPage }, set: function(t) { return t } }, routeParamsCategory: function() { return this.$storage.getState('article').routeParams.category }, routeParams: function() { return this.$storage.getState('article').routeParams }, menu: function() { return this.$storage.getState('article').menu }, pagersSize: function() { return this.$storage.getState('article').pagersSize }, categoryMap: function() { return this.$storage.getState('article_categoriesMap') }, filterCount: function() { return this.$storage.getState('article').filter_count }, list: function() { return this.$storage.getState('article').list }, chrome: function() { return navigator.userAgent.toLowerCase().indexOf('chrome') > -1 } }, components: { SidebarMenu: l.a, BackTop: m.a, Avataaars: c.a }, watch: { $route: function() { this.loading = !1, this.getCommentList() } }, asyncData: function(t) { return Object(r.a)(regeneratorRuntime.mark(function e() { var n, r, l, c, filter, m, d, h, f, v; return regeneratorRuntime.wrap(function(e) { for (;;) switch (e.prev = e.next) { case 0:if (n = t.app, r = t.params, t.error, !t.payload) { e.next = 4; break }e.next = 23; break; case 4:return e.next = 6, n.context.article_categorylist; case 6:return l = e.sent, c = n.context.app.$storage.syncUniversal('pagersSize'), filter = {}, m = { meta: 'total_count,filter_count', sort: '-modified_on', offset: Number(r.page) * c - c, limit: c, filter: filter, fields: 'photo.filename_disk.*,photo_thumb.filename_disk.*,photo_thumb.private_hash,modified_on,modified_on,slug,tags,title,description,comment_total,category.name,title_short', status: 'published' }, r.page ? m.offset = Number(r.page) * c - c : m.offset = 0, r.sort && (m.sort = r.sort), r.search && (m.q = r.search), r.category && r.category !== 'all' && (n.context.query.cid ? filter['category.id'] = { in: n.context.query.cid } : filter['category.alias'] = { eq: r.category }), e.next = 16, Promise.all([n.context.app.$client.getItems('article', m), n.context.app.$client.getItems('article', { sort: '-modified_on', offset: 0, limit: 4, filter: { isflag: { eq: 1 }}, fields: 'photo.filename_disk.*,icon.filename_disk.*,photo_thumb.filename_disk.*,photo_thumb.private_hash,modified_on,slug,tags,title,description,comment_total,category.name,title_short', status: 'published' })]); case 16:return d = e.sent, h = Object(o.a)(d, 2), f = h[0], v = h[1], n.context.app.$storage.setState('article', { menu: l, list: f.data, filter_count: f.meta.filter_count, pagersSize: c, routeParams: r, routeQuery: n.context.query, currentPage: Number(r.page) }), n.context.app.$storage.setState('routeQuery', n.context.route.query), e.abrupt('return', { flaglist: v.data, colorGroupListOne: n.context.article_list_color_group_one, colorGroupListTwo: n.context.article_list_color_group_two }); case 23:case 'end':return e.stop() } }, e) }))() }, methods: { goItem: function(t) { this.$storage.setLocalStorage('backurl', { path: this.$route.path, params: this.$route.params, query: this.$route.query }) }, onSearchClear: function() { this.PUSH({ name: 'article-default-list', params: { category: 'all', page: 1 }}) }, getCommentList: function() { var t = this; this.siderbarLoading = !0; var e = { sort: '-created_on', offset: 0, limit: 20, meta: 'filter_count', fields: 'id,created_on,address,avatar,browser,content,name,os,article.title,article.slug,article.photo_thumb.filename_disk,parent.id,parent.content,parent.name' }; setTimeout(function() { t.$client.getItems('article_comment', e).then(function(e) { t.siderbarLoading = !1, t.commentList = e.data }) }, 300) }, onItemClick: function(t, e) { if (this.$route.params.category === e.alias) this.loading = !1; else { this.loading = !0; var n = this.$route.params.search; var o = this.$route.params.sort; var r = e.alias; var l = e.routeparams.query ? e.routeparams.query.cid : ''; this.handlePageChange('article', 1, o, n, r, l, 'menu') } }, onSortItemClick: function(t) { this.loading = !0, this.handlePageChange('article', 1, t) }, handleBlankChange: function(t) { this.$storage.setUniversal('blank', t) }, pageChange: function(t) { this.loading = !0, this.handlePageChange('article', t) } }, mounted: function() { this.getCommentList() } }; var h = n(6); var component = Object(h.a)(d, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'w-full bg grid-list', class: [t.$device.isDesktop ? 'layout-min-full-height d-flex' : ''] }, [t.$device.isDesktop ? [n('div', { staticClass: 'w-full pc-model' }, [n('div', [t.routeParams.search || t.routeParams.page != 1 ? t._e() : n('div', { staticClass: 'featured-posts mb-6' }, [n('div', [n('NuxtLink', { staticClass: 'post-item post-item--featured', style: { background: '' + t.colorGroupListOne[0], 'background-size': '100%' }, attrs: { target: t.blank ? '_blank' : '_self', to: '/article/' + t.flaglist[0].slug }, nativeOn: { click: function(e) { return t.goItem(t.flaglist[0].slug) } }}, [t.flaglist[0].icon && t.flaglist[0].icon.filename_disk ? [n('img', { staticStyle: { position: 'absolute', left: '30px', top: '30px', width: '256px', height: '256px' }, attrs: { src: '' + t.imgUrl(t.flaglist[0].icon.filename_disk) }})] : t._e(), t._v(' '), n('div', { staticClass: 'post-item__content' }, [n('h3', { directives: [{ name: 'line-clamp', rawName: 'v-line-clamp:20', value: 2, expression: '2', arg: '20' }], attrs: { title: t.flaglist[0].title }}, [t._v(t._s(t.flaglist[0].title))]), t._v(' '), n('div', { staticClass: 'post-meta' }, [n('div', { staticClass: 'category', class: { 'category--learn': t.flaglist[0].category.name === '新闻资讯', 'category--inspiring': t.flaglist[0].category.name === '软件教程', 'category--tools': t.flaglist[0].category.name === '新手入门' }}, [t._v('\n                    ' + t._s(t.flaglist[0].category.name) + '\n                  ')]), t._v(' '), n('div', { staticClass: 'post-meta__avatars' }, [n('img', { staticClass: 'avatar', attrs: { src: 'https://cdn.macwk.com/public/uploads/_/originals/g9sqh9gp.jpeg' }})]), t._v(' '), n('div', { staticClass: 'post-meta__info fw-600' }, [n('span', [t._v('Pertim')]), t._v(' '), n('span', [t._v('•')]), t._v(' '), n('span', [t._v(t._s(t._f('toDate')(t.flaglist[0].modified_on)))])])])]), t._v(' '), n('div', [n('div', { staticClass: 'CS CS--lg' }, [n('button', { staticClass: 'comment' }, [n('i', { staticClass: 'icon-bubble' })]), t._v(' '), n('p', { staticClass: 'CS-count' }, [t._v('\n                    ' + t._s(t.flaglist[0].comment_total ? t.flaglist[0].comment_total : 0) + '\n                  ')]), t._v(' '), n('button', { staticClass: 'share', on: { click: function(e) { return t.shareToSinaWB(t.flaglist[0].title, 'https://www.macwk.com/article/' + t.flaglist[0].slug, 'https://api.macwk.com/api/assets/' + t.flaglist[0].photo_thumb.private_hash + '?key=macwk-small-crop') } }}, [n('i', { staticClass: 'icon-share' })])])])], 2)], 1), t._v(' '), n('div', t._l(t.flaglist.slice(1, 4), function(e, o) { return n('NuxtLink', { key: o + e.slug, staticClass: 'post-item post-item--featured', style: { background: '' + t.colorGroupListOne[o + 1] }, attrs: { target: t.blank ? '_blank' : '_self', to: '/article/' + e.slug }, nativeOn: { click: function(n) { return t.goItem(e.slug) } }}, [n('div', { staticClass: 'post-item__content' }, [n('h3', { directives: [{ name: 'line-clamp', rawName: 'v-line-clamp:20', value: 1, expression: '1', arg: '20' }], attrs: { title: e.title }}, [t._v(t._s(e.title_short))]), t._v(' '), n('div', { staticClass: 'post-meta' }, [n('div', { staticClass: 'category', class: { 'category--learn': e.category.name === '新闻资讯', 'category--inspiring': e.category.name === '软件教程', 'category--tools': e.category.name === '新手入门' }}, [t._v('\n                    ' + t._s(e.category.name) + '\n                  ')]), t._v(' '), n('div', { staticClass: 'post-meta__avatars' }, [n('img', { staticClass: 'avatar', attrs: { src: 'https://cdn.macwk.com/public/uploads/_/originals/g9sqh9gp.jpeg' }})]), t._v(' '), n('div', { staticClass: 'post-meta__info fw-600' }, [n('span', [t._v('Pertim')]), t._v(' '), n('span', [t._v('•')]), t._v(' '), n('span', [t._v(t._s(t._f('toDate')(e.modified_on)))])])])]), t._v(' '), n('div', [n('div', { staticClass: 'CS CS--lg' }, [n('button', { staticClass: 'comment' }, [n('i', { staticClass: 'icon-bubble' })]), t._v(' '), n('p', { staticClass: 'CS-count' }, [t._v('\n                    ' + t._s(e.comment_total ? e.comment_total : 0) + '\n                  ')]), t._v(' '), n('button', { staticClass: 'share', on: { click: function(n) { return t.shareToSinaWB(e.title, 'https://www.macwk.com/article/' + e.slug, 'https://api.macwk.com/api/assets/' + e.photo_thumb.private_hash + '?key=macwk-small-crop') } }}, [n('i', { staticClass: 'icon-share' })])])])]) }), 1)]), t._v(' '), n('div', { staticClass: 'd-flex' }, [n('div', { staticClass: 'flex' }, [n('div', { staticClass: 'app-content-header mb-5' }, [n('div', { staticClass: 'main-title' }, [n('h5', { staticClass: 'fs-24 fw-600 i-con-h-a' }, [t._v('\n                  ' + t._s(t.getCateGoryName(t.routeParams.category, t.categoryMap)) + '\n                  '), n('span', { staticClass: 'text-muted fs-13 v-1 ml-1' }, [t._v('\n                (' + t._s(t.filterCount) + ')\n              ')])])]), t._v(' '), n('nav', { staticClass: 'menu menu--macwk——list article-menu flex' }, [n('ul', { staticClass: 'menu__list' }, [t._l(t.menu, function(e, o) { var r; return n('li', { key: o, staticClass: 'menu__item', class: (r = {}, r['menu__item--current'] = t.routeParams.category == e.alias, r) }, [n('a', { staticClass: 'menu__link', on: { click: function(n) { return t.onItemClick(e.alias, e) } }}, [t._v('\n                      ' + t._s(e.title) + '\n                    ')])]) }), t._v(' '), n('li', { staticClass: 'menu__line' })], 2)]), t._v(' '), n('div', [n('el-switch', { staticStyle: { 'margin-top': '-3px' }, attrs: { 'active-color': '#50a1ff', 'active-text': '新窗口打开' }, model: { value: t.blank, callback: function(e) { t.blank = e }, expression: 'blank' }})], 1)]), t._v(' '), t.routeParams.search ? [n('div', { staticClass: 'pb-5' }, [[t._v('\n                  共为您找到\n                  '), n('span', { staticClass: 'text-danger mx-1' }, [t._v(t._s(t.filterCount))]), t._v('\n                  条和\n                  '), n('el-tag', { staticClass: 'mx-2', attrs: { size: 'small', type: 'danger', closable: '' }, on: { close: t.onSearchClear }}, [n('span', { staticClass: 'text-danger fw-500 fs-18' }, [t._v(t._s(t.routeParams.search))])]), t._v('\n                  相关的文章\n                ')]], 2)] : t._e(), t._v(' '), t.list.length ? t._e() : n('div', { staticClass: 'py-8 text-center' }, [n('img', { directives: [{ name: 'lazy', rawName: 'v-lazy', value: 'https://cdn.macwk.com/public/uploads/_/originals/no.png', expression: "'https://cdn.macwk.com/public/uploads/_/originals/no.png'" }], staticClass: 'w-350', attrs: { alt: '' }}), t._v(' '), n('h4', { staticClass: 'text-muted' }, [t._v('未查询到数据')])]), t._v(' '), t._l(t.list, function(e, o) { return n('NuxtLink', { key: o + e.slug + t.$route.path, staticClass: 'post-item white', class: t.animation ? 'delay-' + o + ' list-animation-leftIn' : '', attrs: { target: t.blank ? '_blank' : '_self', to: '/article/' + e.slug }, nativeOn: { click: function(n) { return t.goItem(e.slug) } }}, [e.photo_thumb && e.photo_thumb.filename_disk ? [n('div', { staticClass: 'post-item__preview', class: 'delay-' + o, style: { 'background-image': 'url(' + t.imgUrl(e.photo_thumb.filename_disk) + ')' }})] : [n('div', { staticClass: 'post-item__preview align-items-center d-flex', class: 'delay-' + o, style: { background: '' + t.colorGroupListTwo[o] }}, [n('h3', { staticClass: 'flex text-center text-white opacity-50' }, [t._v('NOPIC')])])], t._v(' '), n('div', { staticClass: 'post-item__content' }, [n('h3', { attrs: { title: e.title }}, [t._v(t._s(e.title_short))]), t._v(' '), n('div', { staticClass: 'post-meta' }, [n('div', { staticClass: 'category', class: { 'category--learn': e.category.name === '新闻资讯', 'category--inspiring': e.category.name === '软件教程', 'category--tools': e.category.name === '新手入门' }}, [t._v('\n                    ' + t._s(e.category.name) + '\n                  ')]), t._v(' '), n('div', { staticClass: 'post-meta__avatars' }, [n('img', { staticClass: 'avatar', attrs: { src: 'https://cdn.macwk.com/public/uploads/_/originals/g9sqh9gp.jpeg' }})]), t._v(' '), n('div', { staticClass: 'post-meta__info fw-600' }, [n('span', [t._v('Pertim')]), t._v(' '), n('span', [t._v('•')]), t._v(' '), n('span', [t._v('\n    ' + t._s(t._f('toDate')(e.modified_on)) + '\n  ')])])])]), t._v(' '), n('div', [n('div', { staticClass: 'CS CS--lg' }, [n('button', { staticClass: 'comment' }, [n('i', { staticClass: 'icon-bubble' })]), t._v(' '), n('p', { staticClass: 'CS-count' }, [t._v('\n                    ' + t._s(e.comment_total ? e.comment_total : 0) + '\n                  ')]), t._v(' '), n('button', { staticClass: 'share', on: { click: function(n) { return t.shareToSinaWB(e.title, 'https://www.macwk.com/article/' + e.slug, 'https://api.macwk.com/api/assets/' + e.photo_thumb.private_hash + '?key=macwk-small-crop') } }}, [n('i', { staticClass: 'icon-share' })])])])], 2) }), t._v(' '), n('div', { staticClass: 'app-content-bottom' }, [n('el-pagination', { staticClass: 'w-full mt-5', attrs: { 'hide-on-single-page': !0, 'pager-count': 5, layout: 'prev, next, pager', 'page-size': t.pagersSize, 'current-page': t.currentPage, total: t.filterCount }, on: { 'current-change': t.pageChange, 'update:currentPage': function(e) { t.currentPage = e }, 'update:current-page': function(e) { t.currentPage = e } }})], 1)], 2), t._v(' '), t.list.length ? n('div', { staticClass: 'ml-6 w-380 d-md-none d-lg-none d-xl-block' }, [n('div', { staticClass: 'd-block siderbar-apps new-post' }, [t._m(0), t._v(' '), n('div', { directives: [{ name: 'loading', rawName: 'v-loading', value: t.siderbarLoading, expression: 'siderbarLoading' }], staticClass: 'siderbar-apps__body mh-500' }, t._l(t.commentList, function(e, o) { return n('div', { key: o, staticClass: 'siderbar-apps__body-item bg bt-1 pt-4 hover-shadow-5' }, [n('a', { staticClass: 'fs-14 opacity-50 text-truncate mb-3 d-block hover-opacity-normal', attrs: { target: '_blank', href: '/article/' + e.article.slug }}, [t._v(t._s(e.article.title))]), t._v(' '), n('p', { staticClass: 'article-comment-quote fs-15' }, [n('span', { directives: [{ name: 'line-clamp', rawName: 'v-line-clamp:20', value: 3, expression: '3', arg: '20' }] }, [e.name === 'MacWk管理员' && e.avatar === '33333' ? [n('span', { domProps: { innerHTML: t._s(t.$options.filters.parseMd(e.content)) }})] : [t._v('\n                    ' + t._s(e.content) + '\n                  ')]], 2)]), t._v(' '), n('div', { staticClass: 'd-flex align-items-center' }, [n('div', { staticClass: 'mr-3' }, [n('Avataaars', { staticClass: 'w-20 h-20' })], 1), t._v(' '), n('div', { staticClass: 'd-flex flex-column flex-grow-1' }, [n('p', { staticClass: 'd-flex title fw-400 fs-14 text-ellipsis mb-0' }, [n('span', { staticClass: 'flex' }, [t._v(t._s(e.name))]), t._v(' '), n('span', { staticClass: 'd-flex justify-content-end align-items-center' }, [n('small', { staticClass: 'text-muted' }, [t._v(t._s(t._f('toDate')(e.created_on)))])])])])])]) }), 0)])]) : t._e()])])]), t._v(' '), t._m(1), t._v(' '), n('BackTop')] : [n('div', { staticClass: 'app-content-header px-5 mb-5' }, [n('div', { staticClass: 'main-title' }, [n('h5', { staticClass: 'i-con-h-a' }, [t._v('\n          ' + t._s(t.getCateGoryName(t.routeParams.category, t.categoryMap)) + '\n          '), n('span', { staticClass: 'text-muted fs-13 v-1 ml-1' }, [t._v('\n                (' + t._s(t.filterCount) + ')\n          ')])])])]), t._v(' '), t.routeParams.search ? [n('div', { staticClass: 'pb-5' }, [[t._v('\n          共为您找到\n          '), n('span', { staticClass: 'text-danger mx-1' }, [t._v(t._s(t.filterCount))]), t._v('\n          条和\n          '), n('el-tag', { staticClass: 'mx-2', attrs: { size: 'small', type: 'danger', closable: '' }, on: { close: t.onSearchClear }}, [n('span', { staticClass: 'text-danger fw-500 fs-18' }, [t._v(t._s(t.routeParams.search))])]), t._v('\n          相关的文章\n        ')]], 2)] : t._e(), t._v(' '), n('div', { directives: [{ name: 'loading', rawName: 'v-loading', value: t.loading, expression: 'loading' }], staticClass: 'px-5' }, [t.filterCount ? n('div', { staticClass: 'article-list' }, t._l(t.list, function(e, o) { var r; return n('div', { key: o + t.$route.path, staticClass: 'article-list-item mb-5', class: (r = {}, r['list-animation-leftIn'] = t.animation, r) }, [n('NuxtLink', { staticClass: 'article-list-item__image cursor', attrs: { to: '/article/' + e.slug, target: t.blank ? '_blank' : '_self' }, nativeOn: { click: function(n) { return t.goItem(e.slug) } }}, [e.photo_thumb && e.photo_thumb.filename_disk ? [n('div', { staticClass: 'image-fill w-full h-200', style: { backgroundImage: 'url(' + t.imgUrl(e.photo_thumb.filename_disk) }})] : [n('div', { staticClass: 'auto-background opacity-40 w-full h-200 d-flex align-items-center text-center', style: { background: '' + t.colorGroupListTwo[o], 'background-size': '100%' }}, [n('h2', { staticClass: 'text-white flex-grow-1' }, [t._v('NOPIC')])])]], 2), t._v(' '), n('div', { staticClass: 'px-6 py-5 flex-grow-1 flex' }, [n('div', { staticClass: 'py-3' }, [n('h5', { staticClass: 'fw-500 mb-4' }, [n('NuxtLink', { attrs: { to: '/article/' + e.slug, target: t.blank ? '_blank' : '_self' }, nativeOn: { click: function(n) { return t.goItem(e.slug) } }}, [t._v('\n                  ' + t._s(e.title) + '\n                ')])], 1)]), t._v(' '), n('div', { staticClass: 'd-flex align-items-center' }, [t._m(2, !0), t._v(' '), n('div', { staticClass: 'w-80 text-muted' }, [n('i', { staticClass: 'icon-bubble' }), t._v(' '), n('span', [t._v(t._s(e.comment_total ? e.comment_total : 0))])]), t._v(' '), n('div', { staticClass: 'text-muted' }, [n('i', { staticClass: 'icon-clock mr-1' }), t._v('\n                ' + t._s(t._f('toDate')(e.modified_on)) + '\n              ')])])])], 1) }), 0) : n('div', { staticClass: 'pt-8 text-center' }, [n('img', { directives: [{ name: 'lazy', rawName: 'v-lazy', value: 'https://cdn.macwk.com/public/uploads/_/originals/no.png', expression: "'https://cdn.macwk.com/public/uploads/_/originals/no.png'" }], staticClass: 'w-350', attrs: { alt: '' }}), t._v(' '), n('h4', { staticClass: 'text-muted' }, [t._v('未查询到数据')])])]), t._v(' '), n('van-pagination', { attrs: { 'items-per-page': t.pagersSize, 'total-items': t.filterCount, mode: 'simple' }, on: { change: t.pageChange }, model: { value: t.currentPage, callback: function(e) { t.currentPage = e }, expression: 'currentPage' }})]], 2) }, [function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'siderbar-apps__header' }, [n('h4', { staticClass: 'fs-24 fw-600 mb-0' }, [t._v('最新评论')])]) }, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'app-content mobile-model' }, [n('div', { staticClass: 'd-flex layout-min-full-height justify-content-center align-items-center' }, [n('div', { staticClass: 'text-center', staticStyle: { width: '80%', margin: '0 auto' }}, [n('h1', { staticClass: 'mb-4' }, [t._v('哇，窗口太小啦')]), t._v(' '), n('p', { staticClass: 'mb-6' }, [t._v('请调整浏览器窗口大小或者请使用手机查看！')])])])]) }, function() { var t = this; var e = t.$createElement; var n = t._self._c || e; return n('div', { staticClass: 'flex flex-grow-1' }, [n('span', { staticClass: 'd-inline-block avatar-32 mr-2' }, [n('img', { staticClass: 'circle', attrs: { src: 'https://cdn.macwk.com/public/uploads/_/originals/g9sqh9gp.jpeg' }})]), t._v(' '), n('span', { staticClass: 'fs-14 fw-400' }, [t._v('Pertim')])]) }], !1, null, null, null); e.default = component.exports } }])
