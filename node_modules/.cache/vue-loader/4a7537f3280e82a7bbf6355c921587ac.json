{"remainingRequest":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\src\\admin\\components\\ArticleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\src\\admin\\components\\ArticleDetail.vue","mtime":1645650168000},{"path":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\Desktop\\iceWk-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgdmFsaWRVUkwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJwppbXBvcnQgeyBUb2RhdGUgfSBmcm9tICdAL3V0aWxzL2RhdGUuanMnCgppbXBvcnQgRWxEcmFnU2VsZWN0IGZyb20gJ0AvY29tcG9uZW50cy9EcmFnU2VsZWN0JyAvLyBiYXNlIG9uIGVsZW1lbnQtdWkKaW1wb3J0IFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkL1NpbmdsZUltYWdlJwppbXBvcnQgU3RpY2t5IGZyb20gJ0AvY29tcG9uZW50cy9TdGlja3knIC8vIOeymOaAp2hlYWRlcue7hOS7tgppbXBvcnQgV2FybmluZyBmcm9tICcuL1dhcm5pbmcnCmltcG9ydCB7IENvbW1lbnREcm9wZG93biwgUGxhdGZvcm1Ecm9wZG93biwgU291cmNlVXJsRHJvcGRvd24gfSBmcm9tICcuL0Ryb3Bkb3duJwoKaW1wb3J0IHsgZ2V0QXJ0aWNsZUJ5SWQgfSBmcm9tICdAL2FwaS9hcnRpY2xlJwppbXBvcnQgeyBnZXRBbGxVc2VyTmFtZSB9IGZyb20gJ0AvYXBpL3VzZXInCmltcG9ydCB7IGNyZWF0ZUFydGljbGUgfSBmcm9tICdAL2FwaS9hcnRpY2xlJwoKaW1wb3J0IFRpbnltY2UgZnJvbSAnQC9jb21wb25lbnRzL1RpbnltY2UnCmltcG9ydCBNRGlucHV0IGZyb20gJ0AvY29tcG9uZW50cy9NRGlucHV0JwoKY29uc3QgZGVmYXVsdEZvcm0gPSB7CiAgc3RhdHVzOiAnZHJhZnQnLAogIHRpdGxlOiAnJywgLy8g5paH56ug6aKY55uuCiAgY29udGVudDogJycsIC8vIOaWh+eroOWGheWuuQogIGludHJvOiAnJywgLy8g5paH56ug5pGY6KaBCiAgc291cmNlX3VyaTogJycsIC8vIOaWh+eroOWklumTvgogIC8vIGltYWdlX3VyaTogJycsIC8vIOaWh+eroOWbvueJhwogIGNyZWF0ZVRpbWU6IHVuZGVmaW5lZCwgLy8g5YmN5Y+w5bGV56S65pe26Ze0CiAgaWQ6IHVuZGVmaW5lZCwKICBwbGF0Zm9ybXM6IFsnYS1wbGF0Zm9ybSddLAogIGNvbW1lbnRfZGlzYWJsZWQ6IGZhbHNlLAogIG93bmVyVGFnOiAwCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZURldGFpbCcsCiAgY29tcG9uZW50czogeyBFbERyYWdTZWxlY3QsIFRpbnltY2UsIE1EaW5wdXQsIFVwbG9hZCwgU3RpY2t5LCBXYXJuaW5nLCBDb21tZW50RHJvcGRvd24sIFBsYXRmb3JtRHJvcGRvd24sIFNvdXJjZVVybERyb3Bkb3duIH0sCiAgcHJvcHM6IHsKICAgIGlzRWRpdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHZhbGlkYXRlUmVxdWlyZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcnVsZS5maWVsZCArICfkuLrlv4XkvKDpobknLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKHJ1bGUuZmllbGQgKyAn5Li65b+F5Lyg6aG5JykpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9CiAgICB2YXIgbGlzdFJ1bGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIHVuZGVmaW5lZAogICAgICBpZiAodGhpcy5wb3N0Rm9ybS5hdXRob3IgPT09ICcnIHx8IHRoaXMucG9zdEZvcm0uYXV0aG9yID09PSB1bmRlZmluZWQgfHwgdGhpcy5wb3N0Rm9ybS5hdXRob3IgPT09IG51bGwpIHsKICAgICAgICB1bmRlZmluZWQKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJ1bGUuZmllbGQgKyAn5Li65b+F5Lyg6aG5JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihydWxlLmZpZWxkICsgJ+S4uuW/heWhq+Wtl+autScpKQogICAgICB9IGVsc2UgewogICAgICAgIHVuZGVmaW5lZAogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfQogICAgY29uc3QgdmFsaWRhdGVTb3VyY2VVcmkgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICAgICAgaWYgKHZhbGlkVVJMKHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2soKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+WklumTvnVybOWhq+WGmeS4jeato+ehricsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WklumTvnVybOWhq+WGmeS4jeato+ehricpKQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpCiAgICAgIH0KICAgIH0KICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiBbJ0FwcGxlJywgJ0JhbmFuYScsICdPcmFuZ2UnXSwKICAgICAgb3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogJ0FwcGxlJywKICAgICAgICBsYWJlbDogJ0FwcGxlJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdCYW5hbmEnLAogICAgICAgIGxhYmVsOiAnQmFuYW5hJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdPcmFuZ2UnLAogICAgICAgIGxhYmVsOiAnT3JhbmdlJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdQZWFyJywKICAgICAgICBsYWJlbDogJ1BlYXInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ1N0cmF3YmVycnknLAogICAgICAgIGxhYmVsOiAnU3RyYXdiZXJyeScKICAgICAgfV0sCiAgICAgIGFydGljbGVpZDogJycsCiAgICAgIHBvc3RGb3JtOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Rm9ybSksCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB1c2VyTGlzdE9wdGlvbnM6IFtdLAogICAgICBydWxlczogewogICAgICAgIGltYWdlX3VyaTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVJlcXVpcmUgfV0sCiAgICAgICAgdGl0bGU6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVSZXF1aXJlIH1dLAogICAgICAgIGF1dGhvcjogW3sgdmFsaWRhdG9yOiBsaXN0UnVsZSB9XSwKICAgICAgICBjb250ZW50OiBbeyB2YWxpZGF0b3I6IHZhbGlkYXRlUmVxdWlyZSB9XSwKICAgICAgICBzb3VyY2VfdXJpOiBbeyB2YWxpZGF0b3I6IHZhbGlkYXRlU291cmNlVXJpLCB0cmlnZ2VyOiAnYmx1cicgfV0KICAgICAgfSwKICAgICAgdGVtcFJvdXRlOiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRlbnRTaG9ydExlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMucG9zdEZvcm0uaW50cm8ubGVuZ3RoCiAgICB9LAogICAgZGlzcGxheVRpbWU6IHsKICAgICAgLy8gc2V0IGFuZCBnZXQgaXMgdXNlZnVsIHdoZW4gdGhlIGRhdGEKICAgICAgLy8gcmV0dXJuZWQgYnkgdGhlIGJhY2sgZW5kIGFwaSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgZnJvbnQgZW5kCiAgICAgIC8vIGJhY2sgZW5kIHJldHVybiA9PiAiMjAxMy0wNi0yNSAwNjo1OToyNSIKICAgICAgLy8gZnJvbnQgZW5kIG5lZWQgdGltZXN0YW1wID0+IDEzNzIxMTQ3NjUwMDAKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiAoK25ldyBEYXRlKHRoaXMucG9zdEZvcm0uY3JlYXRlVGltZSkpCiAgICAgIH0sCiAgICAgIHNldCh2YWwpIHsKICAgICAgICB0aGlzLnBvc3RGb3JtLmNyZWF0ZVRpbWUgPSBuZXcgRGF0ZSh2YWwpCiAgICAgICAgdGhpcy5wb3N0Rm9ybS5jcmVhdGVUaW1lID0gVG9kYXRlKHRoaXMucG9zdEZvcm0uY3JlYXRlVGltZSkKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8v6I635Y+W5L2c6ICF5YiX6KGoCiAgICB0aGlzLmdldFJlbW90ZVVzZXJMaXN0KCkKCiAgICAvL+aVsOaNruWbnuWhqwogICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICB0aGlzLmFydGljbGVpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICB0aGlzLmZldGNoRGF0YShpZCkKICAgICAgdGhpcy5mZXRjaERhdGEodGhpcy5hcnRpY2xlaWQpCiAgICB9CgogICAgLy8gV2h5IG5lZWQgdG8gbWFrZSBhIGNvcHkgb2YgdGhpcy4kcm91dGUgaGVyZT8KICAgIC8vIEJlY2F1c2UgaWYgeW91IGVudGVyIHRoaXMgcGFnZSBhbmQgcXVpY2tseSBzd2l0Y2ggdGFnLCBtYXkgYmUgaW4gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgc2V0VGFnc1ZpZXdUaXRsZSBmdW5jdGlvbiwgdGhpcy4kcm91dGUgaXMgbm8gbG9uZ2VyIHBvaW50aW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1lbGVtZW50LWFkbWluL2lzc3Vlcy8xMjIxCiAgICB0aGlzLnRlbXBSb3V0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJHJvdXRlKQogIH0sCiAgbWV0aG9kczogewoKICAgIGFzeW5jIGZldGNoRGF0YShpZCkgewogICAgICBnZXRBcnRpY2xlQnlJZChpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLnBvc3RGb3JtLmFydGljbGVTdGF0dXMgPSByZXNwb25zZS5kYXRhLmFydGljbGVTdGF0dXMKICAgICAgICB0aGlzLnNldFRhZ3NWaWV3VGl0bGUoKQoKICAgICAgICAvLyBzZXQgcGFnZSB0aXRsZQogICAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCkKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgc2V0VGFnc1ZpZXdUaXRsZSgpIHsKICAgICAgY29uc3QgdGl0bGUgPSAn57yW6L6R5paH56ugJwogICAgICBjb25zdCByb3V0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMudGVtcFJvdXRlLCB7IHRpdGxlOiBgJHt0aXRsZX0tJHt0aGlzLnBvc3RGb3JtLmlkfWAgfSkKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L3VwZGF0ZVZpc2l0ZWRWaWV3Jywgcm91dGUpCiAgICB9LAogICAgc2V0UGFnZVRpdGxlKCkgewogICAgICBjb25zdCB0aXRsZSA9ICfnvJbovpHmlofnq6AnCiAgICAgIGRvY3VtZW50LnRpdGxlID0gYCR7dGl0bGV9IC0gJHt0aGlzLnBvc3RGb3JtLmlkfWAKICAgIH0sCiAgICBzdWJtaXRGb3JtKCkgewogICAgICBsZXQgdGhhdCA9IHRoaXMKICAgICAgY29uc29sZS5sb2codGhpcy5wb3N0Rm9ybSkKICAgICAgdGhpcy4kcmVmcy5wb3N0Rm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICB0aGlzLnBvc3RGb3JtLnN0YXR1cyA9ICdwdWJsaXNoZWQnCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvc3RGb3JtLmlkKQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5hcnRpY2xlaWQpCiAgICAgICAgICB0aGF0LmZldGNoRGF0YSh0aGlzLnBvc3RGb3JtLmlkKQogICAgICAgICAgdGhhdC5mZXRjaERhdGEodGhpcy5hcnRpY2xlaWQpCgogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CgogICAgICAgICAgfSwgNTIwMDApCiAgICAgICAgICBjcmVhdGVBcnRpY2xlKHRoYXQucG9zdEZvcm0pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoYXQucG9zdEZvcm0pCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3ApCiAgICAgICAgICAgIC8v5YGa5LiA5Liq566A5Y2V55qE6L+U5Zue5pWw5o2u5Yik5patCiAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCkKICAgICAgICAgICAgICAvL+WPkeW4g+aWh+eroOaIkOWKn+S5i+WQjuWPluWbnkFydGljbGVTdGF0dXMKICAgICAgICAgICAgICB0aGlzLnBvc3RGb3JtLmFydGljbGVTdGF0dXMgPSByZXNwLmRhdGEuYXJ0aWNsZVN0YXR1cwogICAgICAgICAgICAgIHRoaXMucG9zdEZvcm0uaWQgPSByZXNwLmRhdGEuaWQKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPkeW4g+aWh+eroOaIkOWKnycsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgdGhpcy5wb3N0Rm9ybS5zdGF0dXMgPSAncHVibGlzaGVkJwogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS/neWtmOWksei0pSIpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpCiAgICAgICAgICAgICAgdGhpcy5wb3N0Rm9ybS5zdGF0dXMgPSAnZHJhZnQnCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+ajgOafpee9kee7nOi/nuaOpScsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfSkKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGRyYWZ0Rm9ybSgpIHsKICAgICAgaWYgKHRoaXMucG9zdEZvcm0uY29udGVudC5sZW5ndGggPT09IDAgfHwgdGhpcy5wb3N0Rm9ybS50aXRsZS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlv4XopoHnmoTmoIfpopjlkozlhoXlrrknLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB2YXIgdGhhdCA9IHRoaXMKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICB0aGlzLnBvc3RGb3JtLnN0YXR1cyA9ICdkcmFmdCcKICAgICAgLy/lkI7nq6/kv53lrZjojYnnqL/lpITnkIYKICAgICAgLy/lho3osIPnlKjkuIDmrKHlj5HluIMKICAgICAgY3JlYXRlQXJ0aWNsZSh0aGF0LnBvc3RGb3JtKS50aGVuKHJlc3AgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoYXQucG9zdEZvcm0pCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcCkKICAgICAgICAvL+WBmuS4gOS4queugOWNleeahOi/lOWbnuaVsOaNruWIpOaWrQogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+S/neWtmOaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLkv53lrZjlpLHotKUiKQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0UmVtb3RlVXNlckxpc3QocXVlcnkpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgLy/ojrflj5bkvZzogIXliJfooagKICAgICAgZ2V0QWxsVXNlck5hbWUoKS50aGVuKHJlc3AgPT4gewogICAgICAgIHRoaXMudXNlckxpc3RPcHRpb25zID0gcmVzcC5kYXRhLm1hcChvID0+IHsgcmV0dXJuIFtvLnVzZXJuYW1lXS50b1N0cmluZygpIH0pCgogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["ArticleDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ArticleDetail.vue","sourceRoot":"src/admin/components","sourcesContent":["<template>\n  <div class=\"createPost-container\">\n    <el-form\n      ref=\"postForm\"\n      :model=\"postForm\"\n      :rules=\"rules\"\n      class=\"form-container\"\n    >\n      <sticky :z-index=\"10\" :class-name=\"'sub-navbar ' + postForm.status\">\n        <CommentDropdown v-model=\"postForm.comment_disabled\" />\n        <PlatformDropdown v-model=\"postForm.platforms\" />\n        <SourceUrlDropdown v-model=\"postForm.source_uri\" />\n        <el-button\n          v-loading=\"loading\"\n          style=\"margin-left: 10px\"\n          type=\"success\"\n          @click=\"submitForm\"\n        >\n          提交\n        </el-button>\n        <el-button v-loading=\"loading\" type=\"warning\" @click=\"draftForm\">\n          草稿\n        </el-button>\n      </sticky>\n\n      <div class=\"createPost-main-container\">\n        <el-row>\n          <Warning />\n\n          <el-col :span=\"24\">\n            <el-form-item style=\"margin-bottom: 40px\" prop=\"title\">\n              <MDinput\n                v-model=\"postForm.title\"\n                :maxlength=\"100\"\n                name=\"name\"\n                required\n              >\n                标题\n              </MDinput>\n            </el-form-item>\n\n            <div class=\"postInfo-container\">\n              <el-row>\n                <el-col :span=\"8\">\n                  <el-form-item\n                    label-width=\"60px\"\n                    label=\"作者:\"\n                    class=\"postInfo-container-item\"\n                    prop=\"author\"\n                  >\n                    <el-select\n                      v-model=\"postForm.author\"\n                      :remote-method=\"getRemoteUserList\"\n                      filterable\n                      default-first-option\n                      remote\n                      placeholder=\"选择作者\"\n                    >\n                      <el-option\n                        v-for=\"(item, index) in userListOptions\"\n                        :key=\"item + index\"\n                        :label=\"item\"\n                        :value=\"item\"\n                      />\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n\n                <el-col :span=\"10\">\n                  <el-form-item\n                    label-width=\"120px\"\n                    label=\"发布时间:\"\n                    class=\"postInfo-container-item\"\n                  >\n                    <el-date-picker\n                      v-model=\"displayTime\"\n                      type=\"datetime\"\n                      format=\"yyyy-MM-dd HH:mm:ss\"\n                      placeholder=\"选择日期和时间\"\n                    />\n                  </el-form-item>\n                </el-col>\n\n                <el-col :span=\"6\">\n                  <el-form-item\n                    label-width=\"90px\"\n                    label=\"重要性:\"\n                    class=\"postInfo-container-item\"\n                  >\n                    <el-rate\n                      v-model=\"postForm.ownerTag\"\n                      :max=\"3\"\n                      :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\n                      :low-threshold=\"1\"\n                      :high-threshold=\"3\"\n                      style=\"display: inline-block\"\n                    />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n            </div>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item\n              style=\"margin-top: 20px\"\n              label-width=\"70px\"\n              label=\"简介:\"\n            >\n              <el-input\n                v-model=\"postForm.intro\"\n                :rows=\"1\"\n                type=\"textarea\"\n                class=\"article-textarea\"\n                autosize\n                placeholder=\"简单介绍一下吧\"\n              />\n              <span v-show=\"contentShortLength\" class=\"word-counter\"\n                >{{ contentShortLength }}words</span\n              >\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"9\">\n            <el-form-item\n              style=\"margin-top: -10px; transform: translateX(-20%)\"\n              label=\"标签:\"\n            >\n              <div class=\"components-container\">\n                <el-drag-select\n                  v-model=\"value\"\n                  style=\"width: 400px\"\n                  multiple\n                  placeholder=\"请选择\"\n                >\n                  <el-option\n                    v-for=\"item in options\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-drag-select>\n\n                <div style=\"margin-top: 30px\">\n                  <el-tag\n                    v-for=\"item of value\"\n                    :key=\"item\"\n                    style=\"margin-right: 15px\"\n                  >\n                    {{ item }}\n                  </el-tag>\n                </div>\n              </div>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item\n          style=\"transform: translateY(-150%)\"\n          label-width=\"60px\"\n          label=\"分类:\"\n          class=\"postInfo-container-item\"\n          prop=\"author\"\n        >\n          <el-select\n            v-model=\"postForm.author\"\n            :remote-method=\"getRemoteUserList\"\n            filterable\n            default-first-option\n            remote\n            placeholder=\"选择分类\"\n          >\n            <el-option\n              v-for=\"(item, index) in userListOptions\"\n              :key=\"item + index\"\n              :label=\"item\"\n              :value=\"item\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item prop=\"content\" style=\"margin-bottom: 30px\">\n          <Tinymce ref=\"editor\" v-model=\"postForm.content\" :height=\"400\" />\n        </el-form-item>\n\n        <el-form-item prop=\"image_uri\" style=\"margin-bottom: 30px\">\n          <Upload v-model=\"postForm.thumb\" />\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\n\n\nimport { validURL } from '@/utils/validate'\nimport { Todate } from '@/utils/date.js'\n\nimport ElDragSelect from '@/components/DragSelect' // base on element-ui\nimport Upload from '@/components/Upload/SingleImage'\nimport Sticky from '@/components/Sticky' // 粘性header组件\nimport Warning from './Warning'\nimport { CommentDropdown, PlatformDropdown, SourceUrlDropdown } from './Dropdown'\n\nimport { getArticleById } from '@/api/article'\nimport { getAllUserName } from '@/api/user'\nimport { createArticle } from '@/api/article'\n\nimport Tinymce from '@/components/Tinymce'\nimport MDinput from '@/components/MDinput'\n\nconst defaultForm = {\n  status: 'draft',\n  title: '', // 文章题目\n  content: '', // 文章内容\n  intro: '', // 文章摘要\n  source_uri: '', // 文章外链\n  // image_uri: '', // 文章图片\n  createTime: undefined, // 前台展示时间\n  id: undefined,\n  platforms: ['a-platform'],\n  comment_disabled: false,\n  ownerTag: 0\n}\n\nexport default {\n  name: 'ArticleDetail',\n  components: { ElDragSelect, Tinymce, MDinput, Upload, Sticky, Warning, CommentDropdown, PlatformDropdown, SourceUrlDropdown },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    const validateRequire = (rule, value, callback) => {\n      if (value === '') {\n        this.$message({\n          message: rule.field + '为必传项',\n          type: 'error'\n        })\n        callback(new Error(rule.field + '为必传项'))\n      } else {\n        callback()\n      }\n    }\n    var listRule = (rule, value, callback) => {\n      undefined\n      if (this.postForm.author === '' || this.postForm.author === undefined || this.postForm.author === null) {\n        undefined\n        this.$message({\n          message: rule.field + '为必传项',\n          type: 'error'\n        })\n        callback(new Error(rule.field + '为必填字段'))\n      } else {\n        undefined\n        callback()\n      }\n    }\n    const validateSourceUri = (rule, value, callback) => {\n      if (value) {\n        /* eslint-disable */\n        if (validURL(value)) {\n          callback()\n        } else {\n          this.$message({\n            message: '外链url填写不正确',\n            type: 'error'\n          })\n          callback(new Error('外链url填写不正确'))\n        }\n      } else {\n        callback()\n      }\n    }\n    return {\n      value: ['Apple', 'Banana', 'Orange'],\n      options: [{\n        value: 'Apple',\n        label: 'Apple'\n      }, {\n        value: 'Banana',\n        label: 'Banana'\n      }, {\n        value: 'Orange',\n        label: 'Orange'\n      }, {\n        value: 'Pear',\n        label: 'Pear'\n      }, {\n        value: 'Strawberry',\n        label: 'Strawberry'\n      }],\n      articleid: '',\n      postForm: Object.assign({}, defaultForm),\n      loading: false,\n      userListOptions: [],\n      rules: {\n        image_uri: [{ validator: validateRequire }],\n        title: [{ validator: validateRequire }],\n        author: [{ validator: listRule }],\n        content: [{ validator: validateRequire }],\n        source_uri: [{ validator: validateSourceUri, trigger: 'blur' }]\n      },\n      tempRoute: {}\n    }\n  },\n  computed: {\n    contentShortLength() {\n      return this.postForm.intro.length\n    },\n    displayTime: {\n      // set and get is useful when the data\n      // returned by the back end api is different from the front end\n      // back end return => \"2013-06-25 06:59:25\"\n      // front end need timestamp => 1372114765000\n      get() {\n        return (+new Date(this.postForm.createTime))\n      },\n      set(val) {\n        this.postForm.createTime = new Date(val)\n        this.postForm.createTime = Todate(this.postForm.createTime)\n      }\n    }\n  },\n  created() {\n    //获取作者列表\n    this.getRemoteUserList()\n\n    //数据回填\n    if (this.isEdit) {\n      const id = this.$route.params && this.$route.params.id\n      this.articleid = this.$route.params.id\n      this.fetchData(id)\n      this.fetchData(this.articleid)\n    }\n\n    // Why need to make a copy of this.$route here?\n    // Because if you enter this page and quickly switch tag, may be in the execution of the setTagsViewTitle function, this.$route is no longer pointing to the current page\n    // https://github.com/PanJiaChen/vue-element-admin/issues/1221\n    this.tempRoute = Object.assign({}, this.$route)\n  },\n  methods: {\n\n    async fetchData(id) {\n      getArticleById(id).then(response => {\n        this.postForm = response.data\n        this.postForm.articleStatus = response.data.articleStatus\n        this.setTagsViewTitle()\n\n        // set page title\n        this.setPageTitle()\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    setTagsViewTitle() {\n      const title = '编辑文章'\n      const route = Object.assign({}, this.tempRoute, { title: `${title}-${this.postForm.id}` })\n      this.$store.dispatch('tagsView/updateVisitedView', route)\n    },\n    setPageTitle() {\n      const title = '编辑文章'\n      document.title = `${title} - ${this.postForm.id}`\n    },\n    submitForm() {\n      let that = this\n      console.log(this.postForm)\n      this.$refs.postForm.validate(valid => {\n        if (valid) {\n          this.loading = true\n          this.postForm.status = 'published'\n          console.log(this.postForm.id)\n          console.log(this.articleid)\n          that.fetchData(this.postForm.id)\n          that.fetchData(this.articleid)\n\n          setTimeout(() => {\n\n          }, 52000)\n          createArticle(that.postForm).then(resp => {\n            // console.log(that.postForm)\n            // console.log(resp)\n            //做一个简单的返回数据判断\n            if (resp.status === 200) {\n              console.log(resp)\n              //发布文章成功之后取回ArticleStatus\n              this.postForm.articleStatus = resp.data.articleStatus\n              this.postForm.id = resp.data.id\n              this.$notify({\n                title: '成功',\n                message: '发布文章成功',\n                type: 'success',\n                duration: 2000\n              })\n              this.postForm.status = 'published'\n              this.loading = false\n            } else {\n              console.log(\"保存失败\")\n            }\n          })\n            .catch((e) => {\n              console.log('error submit!!')\n              this.postForm.status = 'draft'\n              this.loading = false\n              this.$notify.error({\n                title: '失败',\n                message: '请检查网络连接',\n              })\n              return false\n            })\n\n        } else {\n          this.loading = false\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    draftForm() {\n      if (this.postForm.content.length === 0 || this.postForm.title.length === 0) {\n        this.$message({\n          message: '请填写必要的标题和内容',\n          type: 'warning'\n        })\n        return\n      }\n      var that = this\n      this.loading = true\n      this.postForm.status = 'draft'\n      //后端保存草稿处理\n      //再调用一次发布\n      createArticle(that.postForm).then(resp => {\n        // console.log(that.postForm)\n        // console.log(resp)\n        //做一个简单的返回数据判断\n        if (resp.status === 200) {\n          this.$message({\n            message: '保存成功',\n            type: 'success',\n            showClose: true,\n            duration: 1000\n          })\n          this.loading = false\n        } else {\n          console.log(\"保存失败\")\n          this.loading = false\n        }\n      })\n        .catch((e) => {\n          console.log('error submit!!')\n          this.loading = false\n          return false\n        })\n    },\n    getRemoteUserList(query) {\n      /* eslint-disable */\n      //获取作者列表\n      getAllUserName().then(resp => {\n        this.userListOptions = resp.data.map(o => { return [o.username].toString() })\n\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/styles/mixin.scss\";\n\n.createPost-container {\n  position: relative;\n\n  .createPost-main-container {\n    padding: 40px 45px 20px 50px;\n\n    .postInfo-container {\n      position: relative;\n      @include clearfix;\n      margin-bottom: 10px;\n\n      .postInfo-container-item {\n        float: left;\n      }\n    }\n  }\n\n  .word-counter {\n    width: 40px;\n    position: absolute;\n    right: 40%;\n    top: 0px;\n  }\n}\n\n.article-textarea ::v-deep {\n  textarea {\n    width: 45%;\n    padding-right: 40px;\n    resize: none;\n    border: none;\n    border-radius: 0px;\n    border-bottom: 1px solid #bfcbd9;\n  }\n}\n</style>\n"]}]}